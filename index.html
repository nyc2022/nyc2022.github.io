<!DOCTYPE html public "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>NYC 2022</title>

    <link rel="stylesheet" type="text/css" href="pagetheme.css">

  </head>
  <body>
    <audio id="toplay" loop>
      <source src = "assets/dotf.mp3">
    </audio>
    <div id='content' class='textbg'>

      <div class = 'title-div'>
        <h1 id='guestname'>Yo,</h1>
      </div>

      <div id='tostart' class='description' style='display:inline'>
        <p>(Click to begin)</p>
      </div>

      <div id='showonclick' class='description' style='display:none'>
        <p>
          Paragraph 1.
        </p>
        <p>
          Paragraph 2.
        </p>
        <p>
          Paragraph 3.
        </p>
        <p>
          Paragraph 4.
        </p>

      </div>

    </div>

    <script>
      // Handle autoplay at start
      function musicPlay() {
        var start_div = document.getElementById('tostart');
        var description_div = document.getElementById('showonclick');
        start_div.style.display = 'none';
        description_div.style.display = 'inline';
        document.getElementById("toplay").play();
        document.removeEventListener('click', musicPlay);
      }
      document.addEventListener('click', musicPlay);

      // Get URL parameters for title
      const queryString = window.location.search;
      const urlParams = new URLSearchParams(queryString);
      // Parse to guest list
      const guestList = [
        'Leonard','Trent','Isaac','Elisa','Shmabriel','Paul','Deep','Brian','Seth',
        'Cam','Joe'
      ];
      if(urlParams.has("gl")){
        var guestID = urlParams.get("gl");
        if(guestID < guestList.length){
          var guestName = guestList[guestID];
          document.getElementById('guestname').innerHTML = "Dear ".concat(guestName, ",")
        }
      }
    </script>

  </body>
</html>
